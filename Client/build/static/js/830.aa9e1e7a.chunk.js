"use strict";(self.webpackChunkcake_shop=self.webpackChunkcake_shop||[]).push([[830],{9830:function(e,a,s){s.r(a);var t=s(4165),n=s(5861),c=s(9439),r=s(2791),o=s(3778),l=s(2835),i=s(3388),u=s(3402),d=s(1243),p=s(7689),m=s(184),h=i.Z.Option;a.default=function(){var e=(0,r.useState)([]),a=(0,c.Z)(e,2),s=a[0],v=a[1],f=(0,r.useState)(""),x=(0,c.Z)(f,2),g=x[0],j=x[1],b=(0,r.useState)(""),N=(0,c.Z)(b,2),Z=N[0],y=N[1],w=(0,r.useState)(""),C=(0,c.Z)(w,2),k=C[0],S=C[1],P=(0,r.useState)(""),_=(0,c.Z)(P,2),R=_[0],D=_[1],E=(0,r.useState)(""),O=(0,c.Z)(E,2),U=O[0],q=O[1],z=(0,r.useState)(""),A=(0,c.Z)(z,2),L=A[0],T=A[1],F=(0,r.useState)(""),Q=(0,c.Z)(F,2),B=Q[0],G=Q[1],H=(0,p.s0)(),I=function(){var e=(0,n.Z)((0,t.Z)().mark((function e(a){var s,n,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,(s=new FormData).append("productName",Z),s.append("description",k),s.append("category",R),s.append("quantity",U),s.append("price",L),s.append("shipping",B),s.append("photo",g),e.next=12,d.Z.post("/api/admin/product/create-product",s);case 12:n=e.sent,null!==(c=n.data)&&void 0!==c&&c.success?(u.ZP.success("product created successfully"),H("/profile/admin/products")):u.ZP.error(c.error),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),u.ZP.error("something went wrong");case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(a){return e.apply(this,arguments)}}(),J=function(){var e=(0,n.Z)((0,t.Z)().mark((function e(){var a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.get("/api/admin/category/get-category");case 3:a=e.sent,null!==(s=a.data)&&void 0!==s&&s.success&&(v(null===s||void 0===s?void 0:s.categories),u.ZP.success("categories accquired successfully")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),u.ZP.error("cannot get categories");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){J()}),[]),(0,m.jsxs)("div",{children:[(0,m.jsx)(l.Z,{}),(0,m.jsxs)("div",{className:"createProduct_main",children:[(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"d-flex row container-fluid p-3 ",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)("div",{className:"col-md-9 ps-5  ",children:(0,m.jsxs)("div",{className:" p-3 w-75 ps-5 ",children:[(0,m.jsx)("h1",{className:"mb-3 fw-bold text-uppercase  font-monospace",children:"Create products"}),(0,m.jsxs)("div",{className:"m-1 w-75",children:[(0,m.jsx)(i.Z,{bordered:!1,placeholder:"choose a category",size:"large",showSearch:!0,value:R||"choose a category sir!",className:"form-select mb-3",onChange:function(e){D(e)},children:null===s||void 0===s?void 0:s.map((function(e){return(0,m.jsx)(h,{value:e._id,children:e.name},e._id)}))}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsxs)("label",{className:"btn btn-outline-primary  py-3 col-md-12",children:[g?g.name:"upload photo",(0,m.jsx)("input",{type:"file",name:"photo",accept:"image/*",className:"form-control  ",onChange:function(e){return j(e.target.files[0])},hidden:!0})]})}),(0,m.jsx)("div",{className:"mb-3",children:g&&(0,m.jsx)("div",{className:"text-center",children:(0,m.jsx)("img",{src:URL.createObjectURL(g),alt:" product",height:"200px",className:"img img-responsive rounded-3"})})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"text",value:Z,className:"form-control py-3",placeholder:" Product's Name",onChange:function(e){y(e.target.value)}})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"text",value:k,className:"form-control py-3",placeholder:"About the product",onChange:function(e){S(e.target.value)}})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"number",value:U,className:"form-control py-3",placeholder:"No  of Quantity",onChange:function(e){q(e.target.value)}})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"number",value:L,className:"form-control py-3",placeholder:"Price in rupees",onChange:function(e){T(e.target.value)}})}),(0,m.jsxs)(i.Z,{bordered:!1,placeholder:"select shipping",size:"large",showSearch:!0,value:B,className:"form-select mb-3 ",onChange:function(e){G(e)},children:[(0,m.jsx)(h,{value:"0",children:" no"}),(0,m.jsx)(h,{value:"1",children:"yes"})]}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:I,children:"CREATE PRODUCT"})})]})]})})]})]})]})}}}]);
//# sourceMappingURL=830.aa9e1e7a.chunk.js.map