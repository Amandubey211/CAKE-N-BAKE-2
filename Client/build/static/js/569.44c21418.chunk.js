"use strict";(self.webpackChunkcake_shop=self.webpackChunkcake_shop||[]).push([[569],{4569:function(e,r,t){t.r(r),t.d(r,{default:function(){return g}});var n=t(3433),a=t(4165),s=t(5861),c=t(9439),i=t(2791),o=t(2835),d=t(3778),p=t(3402),l=t(1243),u=t(1087),x=t(592),m=t(4424),h=t(6355),f=t(33),v=t(184),g=function(){var e=(0,i.useState)([]),r=(0,c.Z)(e,2),t=r[0],g=r[1],b=(0,i.useState)([]),Z=(0,c.Z)(b,2),j=Z[0],w=Z[1],y=(0,i.useState)([]),N=(0,c.Z)(y,2),k=N[0],_=N[1],S=(0,i.useState)([]),P=(0,c.Z)(S,2),C=P[0],F=P[1],E=(0,i.useState)(0),T=(0,c.Z)(E,2),z=T[0],D=T[1],M=(0,i.useState)(1),R=(0,c.Z)(M,2),A=R[0],G=R[1],I=(0,i.useState)(!1),L=(0,c.Z)(I,2),U=L[0],q=L[1],B=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/api/admin/product/product-count");case 3:r=e.sent,t=r.data,D(null===t||void 0===t?void 0:t.totalcount),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/api/admin/product/product-list/".concat(A));case 3:r=e.sent,s=r.data,q(!1),g([].concat((0,n.Z)(t),(0,n.Z)(null===s||void 0===s?void 0:s.products))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),q(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();1!==A&&e()}),[A]);var H=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r,t){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(0,n.Z)(j),r?s.push(t):s=s.filter((function(e){return e!==t})),w(s);case 3:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.post("/api/admin/product/filter-product",{checked:j,radio:k});case 3:r=e.sent,t=r.data,g(t.products),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p.ZP.error("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(j.length||k.length)&&e()}),[j,k]);var J=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/api/admin/category/get-category");case 3:r=e.sent,null!==(t=r.data)&&void 0!==t&&t.success&&(F(null===t||void 0===t?void 0:t.categories),p.ZP.success(t.message)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),p.ZP.error("cannot get categories");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){J(),B()}),[]),(0,i.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),e.next=4,l.Z.get("/api/admin/product/product-list/".concat(A));case 4:r=e.sent,t=r.data,q(!1),null!==t&&void 0!==t&&t.success?(g(null===t||void 0===t?void 0:t.products),p.ZP.success(t.message)):p.ZP.error(t.message),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),q(!1),console.log(e.t0),p.ZP.error("something went wrong");case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{children:[(0,v.jsx)(o.Z,{}),(0,v.jsxs)("div",{className:"product_main",children:[(0,v.jsx)("hr",{}),(0,v.jsxs)("div",{className:"d-flex row container-fluid p-3 ",children:[(0,v.jsxs)("div",{className:"col-md-3",children:[(0,v.jsx)(d.Z,{}),(0,v.jsxs)("div",{className:"categoryFilter_section mt-5 p-3 rounded-4",style:{boxShadow:"rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset"},children:[(0,v.jsxs)("h5",{className:"text-center text-uppercase  font-monospace  fw-bold ",children:["filter by",(0,v.jsxs)("span",{className:"text-muted  fw-bold bg-warning ms-2 p-1 rounded-3",children:[" ","Category"]})," "]})," ",(0,v.jsx)("div",{className:"p-1 py-3  mt-2 rounded-4",style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px"},children:C.map((function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"d-flex  flex-wrap ms-4   ",children:(0,v.jsx)(x.Z,{onChange:function(r){H(r.target.checked,e._id)},className:"fw-bold",children:e.name})},e._id)})}))})]}),(0,v.jsxs)("div",{className:"priceFilter_section mt-4 m-2 p-3 rounded-4",style:{boxShadow:"rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset"},children:[(0,v.jsxs)("h5",{className:"text-center text-uppercase  font-monospace  fw-bold mb-2",children:["filter by"," ",(0,v.jsxs)("span",{className:"text-muted  fw-bold  bg-warning ms-1  p-1 rounded-3",children:[" ","price-range"]})," "]})," ",(0,v.jsxs)("div",{className:"py-3 rounded-4",style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px"},children:[(0,v.jsx)(m.ZP.Group,{onChange:function(e){return _(e.target.value)},children:null===f.T||void 0===f.T?void 0:f.T.map((function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"d-flex row flex-wrap ms-4  ",children:(0,v.jsx)(m.ZP,{className:"fw-bold",value:e.array,children:e.name})},e._id)})}))})," ",(0,v.jsx)("button",{className:"btn btn-primary p-1 ms-5 text-center px-4 text-capitalize",children:"clear price filter"})]})]})]}),(0,v.jsx)("div",{className:"col-md-9 ps-5  ",children:(0,v.jsxs)("div",{className:" p-3 w-90 ps-5 ",children:[(0,v.jsxs)("h1",{className:"fw-bold text-uppercase font-monospace",children:["My products",(0,v.jsx)("span",{className:"btn btn-success  p-2 ms-2  px-3 mb-2",onClick:function(e){window.location.reload()},children:"Refresh"})," "]}),(0,v.jsx)("div",{className:"d-flex  row gap-4",children:t.map((function(e){return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"card p-0",style:{height:"27rem",width:"22rem"},children:[(0,v.jsx)("img",{src:"/api/admin/product/product-photo/".concat(e._id),className:"card-img-top   cardimg rounded-2 ",alt:e.productName}),(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("h4",{className:"card-title text-capitalize  text-center fw-bold",children:e.productName}),(0,v.jsx)("hr",{}),(0,v.jsxs)("p",{className:"card-text h4 ",children:[" ",e.description,"."]}),(0,v.jsxs)("h5",{className:"card-text fw-bold",children:[(0,v.jsx)(h.t9y,{className:"h6 mt-1"}),e.price,".00 RS/-"]}),(0,v.jsx)(u.rU,{className:"btn btn-primary fs-4 py-2 px-3",to:"/profile/admin/update-product/".concat(e.slug),children:"EDIT"},e._id)]})]})})}))}),(0,v.jsxs)("div",{className:"m-2 p-3",children:[(0,v.jsxs)("h1",{children:[" total products :",z]}),t&&t.length<z&&(0,v.jsx)("button",{className:"btn btn-success py-3 px-5  h4",onClick:function(e){e.preventDefault(),G(A+1)},children:U?"loading":"Load More"})]})]})})]})]})]})})}},33:function(e,r,t){t.d(r,{T:function(){return n}});var n=[{_id:6,name:"All",array:[0,1e4]},{_id:0,name:"1- 50 ",array:[1,50]},{_id:1,name:"50 - 100 ",array:[50,100]},{_id:2,name:"100 - 250 ",array:[100,250]},{_id:3,name:"250 - 400 ",array:[250,400]},{_id:4,name:"400 - 500 ",array:[400,500]},{_id:5,name:"500 - 1000 ",array:[500,1e3]},{_id:6,name:"1000+ ",array:[1e3,1e4]}]}}]);
//# sourceMappingURL=569.44c21418.chunk.js.map