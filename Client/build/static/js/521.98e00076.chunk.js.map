{"version":3,"file":"static/js/521.98e00076.chunk.js","mappings":"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","sources":["user/orders.js"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Nav from \"../components/Navbar/Nav\";\r\nimport UserMenu from \"./userMenu\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { FaRupeeSign } from \"react-icons/fa\";\r\nimport { useAuth } from \"../Context/auth\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { BsArrowUpLeftSquareFill } from \"react-icons/bs\";\r\nconst Orders = () => {\r\n  const [orders, SetOrders] = useState([]);\r\n  const [auth] = useAuth();\r\n\r\n  const getOrders = async () => {\r\n    try {\r\n      const { data } = await axios.get(\"/api/auth/orders\");\r\n      SetOrders(data);\r\n    } catch (error) {\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (auth?.token) getOrders();\r\n  }, [auth?.token]);\r\n\r\n  const cancelOrder = async () => {\r\n    try {\r\n      toast.success(\"will be added soon\");\r\n    } catch (error) {\r\n      toast.error(\"something went wrong\");\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Nav />\r\n      <div className=\"order_main\">\r\n        <hr />\r\n        <div className=\"d-flex row container-fluid p-3 \">\r\n          <div className=\"col-sm-12 col-lg-2\">\r\n            <UserMenu />\r\n          </div>\r\n          <div className=\"col-lg-10 col-sm-12 ps-5   \">\r\n            <div className=\" p-3  ps-5 \">\r\n              <h1 className=\"text-center fw-bold text-uppercase font-monospace\">\r\n                my orders\r\n              </h1>\r\n              {orders.length ? (\r\n                <>\r\n                  {\" \"}\r\n                  {orders\r\n                    ?.map((orders, i) => {\r\n                      return (\r\n                        <>\r\n                          <div\r\n                            className=\"mb-4 rounded-3 p-3\"\r\n                            style={{\r\n                              boxShadow:\r\n                                \"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px\",\r\n                            }}\r\n                          >\r\n                            <table className=\"table\">\r\n                              <thead>\r\n                                <tr>\r\n                                  <th scope=\"col\">PR NO</th>\r\n                                  <th scope=\"col\">status</th>\r\n                                  <th scope=\"col\">buyer id</th>\r\n                                  <th scope=\"col\">orders</th>\r\n                                  <th scope=\"col\">quantity</th>\r\n                                  <th scope=\"col\">payment</th>\r\n                                  <th scope=\"col\">amount</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                <tr>\r\n                                  <td>{i + 1}</td>\r\n                                  <td>{orders?.status}</td>\r\n                                  <td>{orders?.buyer?._id}</td>\r\n\r\n                                  <td>{moment(orders?.createdAt).fromNow()}</td>\r\n\r\n                                  <td>{orders?.products?.length}</td>\r\n                                  <td>\r\n                                    {orders?.payment.success ? (\r\n                                      <span className=\"bg-success rounded-3 px-2 fw-bold py-1\">\r\n                                        success\r\n                                      </span>\r\n                                    ) : (\r\n                                      <span className=\"bg-danger rounded-3 px-2 fw-bold py-1 \">\r\n                                        failed\r\n                                      </span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td>{orders?.amount}</td>\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n                            <div className=\"row\">\r\n                              {orders?.products?.map((product, i) => (\r\n                                <>\r\n                                  <div className=\"row flex-row  ms-3  mb-3 rounded-4\">\r\n                                    <div className=\"col-md-3 p-2\">\r\n                                      <img\r\n                                        src={`/api/admin/product/product-photo/${product._id}`}\r\n                                        className=\"  rounded-2\"\r\n                                        alt={product.productName}\r\n                                        height={70}\r\n                                        width={70}\r\n                                      />\r\n                                    </div>\r\n                                    <div className=\"col-md-8 p-1\">\r\n                                      <h3 className=\"text-capitalize fw-bold font-monospace\">\r\n                                        {product.productName}\r\n                                      </h3>\r\n\r\n                                      <div className=\"d-flex flex-column flex-wrap \">\r\n                                        <h4 className=\"fw-bold\">\r\n                                          {\" \"}\r\n                                          <FaRupeeSign className=\"h5 mt-1\" />\r\n                                          {product.price}/-\r\n                                        </h4>\r\n                                      </div>\r\n                                    </div>\r\n                                    <hr />\r\n                                  </div>\r\n                                </>\r\n                              ))}\r\n                              <button\r\n                                className=\"btn btn-danger\"\r\n                                onClick={cancelOrder}\r\n                              >\r\n                                {\" \"}\r\n                                cancel order\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        </>\r\n                      );\r\n                    })\r\n                    .reverse()}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div\r\n                    className=\"text-center bg-light px-2 py-3 rounded-5\"\r\n                    style={{\r\n                      boxShadow:\r\n                        \"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px\",\r\n                    }}\r\n                  >\r\n                    <h1 className=\" text-center mt-5 mb-2 bg-warning rounded-4\">\r\n                      Nothing Order Yet, Sir!\r\n                    </h1>\r\n                    <NavLink to=\"/allproducts\" className=\"mb-2\">\r\n                      <button className=\"button-34 h2 text-uppercase mt-3 \">\r\n                        Add products <BsArrowUpLeftSquareFill />\r\n                      </button>\r\n                    </NavLink>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n"],"names":["_useState","useState","_useState2","_slicedToArray","orders","SetOrders","_useAuth","useAuth","auth","getOrders","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","axios","sent","t0","toast","message","stop","apply","arguments","useEffect","token","cancelOrder","_ref2","_callee2","_context2","error","_jsxs","children","_jsx","Nav","className","UserMenu","length","_Fragment","map","i","_orders$buyer","_orders$products","_orders$products2","style","boxShadow","scope","status","buyer","_id","moment","createdAt","fromNow","products","payment","success","amount","product","src","concat","alt","productName","height","width","FaRupeeSign","price","onClick","reverse","NavLink","to","BsArrowUpLeftSquareFill"],"sourceRoot":""}