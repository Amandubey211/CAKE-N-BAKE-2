"use strict";(self.webpackChunkcake_shop=self.webpackChunkcake_shop||[]).push([[280],{6280:function(e,s,t){t.r(s),t.d(s,{default:function(){return m}});var a=t(4165),n=t(1413),r=t(5861),i=t(9439),c=t(2791),l=t(7689),u=t(1243),o=t(2835),d=t(1087),p=t(3402),x=t(2927),h=t(184),m=function(){var e=(0,c.useState)(""),s=(0,i.Z)(e,2),t=s[0],m=s[1],f=(0,c.useState)(""),g=(0,i.Z)(f,2),v=g[0],j=g[1],k=(0,l.s0)(),Z=(0,x.a)(),w=(0,i.Z)(Z,2),b=w[0],N=w[1],S=(0,c.useState)(!1),C=(0,i.Z)(S,2),_=C[0],y=C[1],L=(0,l.TH)(),O=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(s){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),s.preventDefault(),e.next=5,u.Z.post("/api/auth/login",{email:t,password:v});case 5:(r=e.sent)&&r.data.success?(p.ZP.success(r.data.message),N((0,n.Z)((0,n.Z)({},b),{},{user:r.data.user,token:r.data.token})),localStorage.setItem("auth",JSON.stringify(r.data)),k(L.state||"/"),y(!1)):(y(!1),p.ZP.error(r&&r.data.message)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),y(!1),console.log(e.t0),p.ZP.error("something went wrong!");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(s){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{children:[(0,h.jsx)(o.Z,{}),(0,h.jsx)(p.x7,{}),(0,h.jsxs)("div",{className:"center",children:[(0,h.jsx)("h1",{children:"Login"}),(0,h.jsxs)("form",{onSubmit:O,children:[(0,h.jsxs)("div",{className:"txt_field",children:[(0,h.jsx)("input",{type:"text",name:"email",value:t,onChange:function(e){return m(e.target.value)},required:!0}),(0,h.jsx)("span",{}),(0,h.jsx)("label",{children:"email"})]}),(0,h.jsxs)("div",{className:"txt_field",children:[(0,h.jsx)("input",{type:"text",name:"password",value:v,onChange:function(e){return j(e.target.value)},required:!0}),(0,h.jsx)("span",{}),(0,h.jsx)("label",{children:"password"})]}),(0,h.jsx)(d.OL,{className:"nav-link pass",exact:!0,to:"/forgetpassword",children:"forgetpassword?"}),(0,h.jsx)("button",{role:"submit",onClick:O,children:_?"please wait":"Signup"}),(0,h.jsxs)("div",{className:"signup_link",children:["Not a member?"," ",(0,h.jsx)(d.OL,{className:"nav-link",exact:!0,to:"/signup",children:"sign up"})]})]})]})]})}}}]);
//# sourceMappingURL=280.84531069.chunk.js.map