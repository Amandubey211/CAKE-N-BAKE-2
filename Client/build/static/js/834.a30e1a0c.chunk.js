"use strict";(self.webpackChunkcake_shop=self.webpackChunkcake_shop||[]).push([[834],{7834:function(e,s,r){r.r(s);var t=r(4165),c=r(5861),l=r(9439),n=r(2791),a=r(3778),i=r(2835),o=r(2927),d=r(3402),u=r(2426),p=r.n(u),h=r(1243),x=r(6355),m=r(3388),j=r(184),v=m.Z.Option;s.default=function(){var e=(0,n.useState)([]),s=(0,l.Z)(e,2),r=s[0],u=s[1],f=(0,o.a)(),g=(0,l.Z)(f,1)[0],N=(0,n.useState)(["Not process","processing","Shipped","deliver","cancel"]),b=(0,l.Z)(N,2),w=b[0],Z=(b[1],function(){var e=(0,c.Z)((0,t.Z)().mark((function e(){var s,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.get("/api/auth/all-orders");case 3:s=e.sent,r=s.data,u(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}());(0,n.useEffect)((function(){null!==g&&void 0!==g&&g.token&&Z()}),[null===g||void 0===g?void 0:g.token]);var y=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(s,r){var c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.put("/api/auth/orders-status/".concat(s),{status:r});case 3:c=e.sent,c.data?(Z(),d.ZP.success("status updated successfully")):d.ZP.error("status not updated"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),d.ZP.error("something went wrong");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(s,r){return e.apply(this,arguments)}}();return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{children:[(0,j.jsx)(i.Z,{}),(0,j.jsxs)("div",{className:"admin_orders_main",children:[(0,j.jsx)("hr",{}),(0,j.jsxs)("div",{className:"d-flex row container-fluid p-3 ",children:[(0,j.jsx)("div",{className:"col-lg-2 col-sm-12",children:(0,j.jsx)(a.Z,{})}),(0,j.jsx)("div",{className:"col-lg-10 col-sm-12 ps-5  ",children:(0,j.jsxs)("div",{className:" p-3 w-85 ps-5 ",children:[(0,j.jsx)("h1",{className:"text-center text-uppercase font-monospace",children:"all orders"}),null===r||void 0===r?void 0:r.map((function(e,s){var r,t,c;return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{children:[(0,j.jsxs)("table",{className:"table",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{scope:"col",children:"SR NO"}),(0,j.jsx)("th",{scope:"col",children:"status"}),(0,j.jsx)("th",{scope:"col",children:"buyer ID"}),(0,j.jsx)("th",{scope:"col",children:"orders"}),(0,j.jsx)("th",{scope:"col",children:"quantity"}),(0,j.jsx)("th",{scope:"col",children:"payment"}),(0,j.jsx)("th",{scope:"col",children:"total"})]})}),(0,j.jsx)("tbody",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:s+1}),(0,j.jsx)("td",{children:(0,j.jsx)(m.Z,{bordered:!1,onChange:function(s){return y(e._id,s)},defaultValue:null===e||void 0===e?void 0:e.status,children:w.map((function(e,s){return(0,j.jsx)(v,{value:e,children:e},s)}))})}),(0,j.jsx)("td",{children:null===e||void 0===e||null===(r=e.buyer)||void 0===r?void 0:r._id}),(0,j.jsx)("td",{children:p()(null===e||void 0===e?void 0:e.createAt).fromNow()}),(0,j.jsx)("td",{children:null!==e&&void 0!==e&&e.payment.success?(0,j.jsx)("span",{className:"bg-success",children:"success"}):(0,j.jsx)("span",{className:"bg-danger ",children:"failed"})}),(0,j.jsx)("td",{children:null===e||void 0===e||null===(t=e.products)||void 0===t?void 0:t.length}),(0,j.jsxs)("td",{children:[" ",(0,j.jsx)(x.t9y,{className:"h6 mt-1"}),null===e||void 0===e?void 0:e.amount,"/-"]})]})})]}),(0,j.jsx)("div",{className:" container",children:null===e||void 0===e||null===(c=e.products)||void 0===c?void 0:c.map((function(e,s){return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"row flex-row   mb-3 rounded-4",style:{boxShadow:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px"},children:[(0,j.jsx)("div",{className:"col-md-3 p-3",children:(0,j.jsx)("img",{src:"/api/admin/product/product-photo/".concat(e._id),className:"  rounded-2",alt:e.productName,height:70,width:70})}),(0,j.jsxs)("div",{className:"col-md-8 p-3",children:[(0,j.jsx)("h3",{className:"text-capitalize fw-bold font-monospace",children:e.productName}),(0,j.jsx)("hr",{}),(0,j.jsx)("div",{className:"d-flex flex-column flex-wrap ",children:(0,j.jsxs)("h4",{className:"fw-bold",children:[" ",(0,j.jsx)(x.t9y,{className:"h5 mt-1"}),e.price,"/-"]})})]})]})})}))})]})})})).reverse()]})})]})]}),(0,j.jsx)("br",{})]})})}},3778:function(e,s,r){r(2791);var t=r(1087),c=r(184);s.Z=function(){return(0,c.jsx)("div",{className:"text-center  ",children:(0,c.jsxs)("div",{className:"list-group text-capitalize  ",children:[(0,c.jsx)(t.OL,{to:"/profile/admin",className:"text-reset text-decoration-none",children:(0,c.jsx)("h4",{className:"py-2 bg-warning ",children:"Admin Panel"})}),(0,c.jsx)(t.OL,{to:"/profile/admin/create-category",className:"list-group-item list-group-item-action  p-2 fw-bolder ",children:"Create category"}),(0,c.jsx)(t.OL,{to:"/profile/admin/create-product",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"Create product"}),(0,c.jsx)(t.OL,{to:"/profile/admin/products",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"products"}),(0,c.jsx)(t.OL,{to:"/profile/admin/allusers",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"users"}),(0,c.jsx)(t.OL,{to:"/profile/admin/allorders",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"orders"}),(0,c.jsx)(t.OL,{to:"/profile/admin/feedback",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"Feedbacks"})]})})}}}]);
//# sourceMappingURL=834.a30e1a0c.chunk.js.map