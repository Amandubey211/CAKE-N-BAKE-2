"use strict";(self.webpackChunkcake_shop=self.webpackChunkcake_shop||[]).push([[773],{773:function(e,t,r){r.r(t);var a=r(4165),s=r(5861),n=r(9439),c=r(2791),o=r(3778),i=r(4309),l=r(3890),u=r(3402),p=r(1243),d=r(7689),m=r(184),h=l.Z.Option;t.default=function(){var e=(0,c.useState)([]),t=(0,n.Z)(e,2),r=t[0],f=t[1],x=(0,c.useState)(""),g=(0,n.Z)(x,2),v=g[0],j=g[1],b=(0,c.useState)(""),N=(0,n.Z)(b,2),Z=N[0],y=N[1],w=(0,c.useState)(""),k=(0,n.Z)(w,2),P=k[0],C=k[1],E=(0,c.useState)(""),O=(0,n.Z)(E,2),L=O[0],S=O[1],D=(0,c.useState)(""),_=(0,n.Z)(D,2),T=_[0],U=_[1],A=(0,c.useState)(""),R=(0,n.Z)(A,2),q=R[0],z=R[1],F=(0,c.useState)(""),Y=(0,n.Z)(F,2),H=Y[0],Q=Y[1],W=(0,c.useState)(""),B=(0,n.Z)(W,2),G=B[0],I=B[1],J=(0,d.UO)(),K=(0,d.s0)(),M=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("/api/admin/product/single-product/".concat(J.slug));case 3:t=e.sent,r=t.data,y(r.product.productName),C(r.product.description),I(r.product._id),S(r.product.category._id),U(r.product.quantity),z(r.product.price),Q(r.product.shipping),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),u.ZP.error("something went wrong");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){M()}),[]);var V=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(r=new FormData).append("productName",Z),r.append("description",P),r.append("category",L),r.append("quantity",T),r.append("price",q),r.append("shipping",H),v&&r.append("photo",v),e.next=12,p.Z.put("/api/admin/product/update-product/".concat(G),r);case 12:s=e.sent,null!==(n=s.data)&&void 0!==n&&n.success?(u.ZP.success("product updated successfully"),K("/profile/admin/products")):u.ZP.error("product cannot update"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),u.ZP.error("something went wrong");case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"YES DELETE"!==window.prompt("are you sure to delete the product type 'YES DELETE' ")){e.next=10;break}return e.next=5,p.Z.delete("/api/admin/product/deleteproduct-photo/".concat(G));case 5:r=e.sent,null!==(s=r.data)&&void 0!==s&&s.success?(u.ZP.success(s.message),K("/profile/admin/products")):u.ZP.error(s.message),e.next=11;break;case 10:return e.abrupt("return");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),u.ZP.error("something went wrong");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("/api/admin/category/get-category");case 3:t=e.sent,null!==(r=t.data)&&void 0!==r&&r.success&&(f(null===r||void 0===r?void 0:r.categories),u.ZP.success("categories accquired successfully")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.ZP.error("cannot get categories");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){$()}),[]),(0,m.jsxs)("div",{children:[(0,m.jsx)(i.Z,{}),(0,m.jsxs)("div",{className:"createProduct_main",children:[(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"d-flex row container-fluid p-3 ",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)("div",{className:"col-md-9 ps-5  ",children:(0,m.jsxs)("div",{className:" p-3 w-75 ps-5 ",children:[(0,m.jsx)("h1",{className:"mb-3 font-monospace text-uppercase fw-bold",children:"update products"}),(0,m.jsxs)("div",{className:"m-1 w-75",children:[(0,m.jsx)("h4",{className:"fw-bolder ps-1",children:"category:"}),(0,m.jsx)(l.Z,{bordered:!1,size:"large",showSearch:!0,value:L||"choose a category darling!",className:"form-select mb-3",onChange:function(e){S(e)},children:null===r||void 0===r?void 0:r.map((function(e){return(0,m.jsx)(h,{value:e._id,children:e.name},e._id)}))}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsxs)("label",{className:"btn btn-outline-primary  py-3 col-md-12",children:[v?v.name:"UPLOAD NEW PHOTO",(0,m.jsx)("input",{type:"file",name:"photo",accept:"image/*",className:"form-control  ",onChange:function(e){return j(e.target.files[0])},hidden:!0})]})}),(0,m.jsx)("div",{className:"mb-3",children:v?(0,m.jsx)("div",{className:"text-center",children:(0,m.jsx)("img",{src:URL.createObjectURL(v),alt:" product_photo",height:"200px",className:"img img-responsive rounded-3"})}):(0,m.jsx)("div",{className:"text-center",children:(0,m.jsx)("img",{src:"/api/admin/product/product-photo/".concat(G),alt:" product_photo",height:"200px",className:"img img-responsive rounded-3"})})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"text",value:Z,className:"form-control py-3",placeholder:" Product's Name",onChange:function(e){y(e.target.value)}})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"text",value:P,className:"form-control py-3",placeholder:"About the product",onChange:function(e){C(e.target.value)}})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"number",value:T,className:"form-control py-3",placeholder:"No  of Quantity",onChange:function(e){U(e.target.value)}})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"number",value:q,className:"form-control py-3",placeholder:"Price in rupees",onChange:function(e){z(e.target.value)}})}),(0,m.jsxs)(l.Z,{bordered:!1,placeholder:"select shipping",size:"large",showSearch:!0,value:H?"yes":"no",className:"form-select mb-3 ",onChange:function(e){Q(e)},children:[(0,m.jsx)(h,{value:"0",children:" no"}),(0,m.jsx)(h,{value:"1",children:"yes"})]}),(0,m.jsxs)("div",{className:"d-flex gap-5 colmun container-fluid ",children:[(0,m.jsx)("div",{className:"mb-3 ms-5",children:(0,m.jsx)("button",{type:"submit",className:"btn btn-primary px-4 py-3",onClick:V,children:"UPDATE PRODUCT"})}),(0,m.jsx)("div",{className:"mb-3 ms-5",children:(0,m.jsx)("button",{className:"btn btn-danger px-4 py-3",onClick:X,children:"DELETE PRODUCT"})})]})]})]})})]})]})]})}},3778:function(e,t,r){r(2791);var a=r(1087),s=r(184);t.Z=function(){return(0,s.jsx)("div",{className:"text-center  ",children:(0,s.jsxs)("div",{className:"list-group text-capitalize  ",children:[(0,s.jsx)(a.OL,{to:"/profile/admin",className:"text-reset text-decoration-none",children:(0,s.jsx)("h4",{className:"py-2 bg-warning ",children:"Admin Panel"})}),(0,s.jsx)(a.OL,{to:"/profile/admin/create-category",className:"list-group-item list-group-item-action  p-2 fw-bolder ",children:"Create category"}),(0,s.jsx)(a.OL,{to:"/profile/admin/create-product",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"Create product"}),(0,s.jsx)(a.OL,{to:"/profile/admin/products",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"products"}),(0,s.jsx)(a.OL,{to:"/profile/admin/allusers",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"users"}),(0,s.jsx)(a.OL,{to:"/profile/admin/allorders",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"orders"}),(0,s.jsx)(a.OL,{to:"/profile/admin/feedback",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"Feedbacks"})]})})}}}]);
//# sourceMappingURL=773.e30dc10f.chunk.js.map