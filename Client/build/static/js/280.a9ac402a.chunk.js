"use strict";(self.webpackChunkcake_shop=self.webpackChunkcake_shop||[]).push([[280],{6280:function(e,s,a){a.r(s),a.d(s,{default:function(){return m}});var t=a(4165),n=a(1413),r=a(5861),i=a(9439),c=a(2791),u=a(7689),l=a(1243),o=a(2835),d=a(1087),p=a(3402),x=a(2927),h=a(184),m=function(){var e=(0,c.useState)(""),s=(0,i.Z)(e,2),a=s[0],m=s[1],f=(0,c.useState)(""),v=(0,i.Z)(f,2),g=v[0],j=v[1],k=(0,u.s0)(),Z=(0,x.a)(),w=(0,i.Z)(Z,2),b=w[0],N=w[1],S=(0,u.TH)(),y=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(s){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s.preventDefault(),e.next=4,l.Z.post("/api/auth/login",{email:a,password:g});case 4:(r=e.sent)&&r.data.success?(p.ZP.success(r.data.message),N((0,n.Z)((0,n.Z)({},b),{},{user:r.data.user,token:r.data.token})),localStorage.setItem("auth",JSON.stringify(r.data)),k(S.state||"/")):p.ZP.error(r&&r.data.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),p.ZP.error("something went wrong!");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(s){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{children:[(0,h.jsx)(o.Z,{}),(0,h.jsx)(p.x7,{}),(0,h.jsxs)("div",{className:"center",children:[(0,h.jsx)("h1",{children:"Login"}),(0,h.jsxs)("form",{onSubmit:y,children:[(0,h.jsxs)("div",{className:"txt_field",children:[(0,h.jsx)("input",{type:"text",name:"email",value:a,onChange:function(e){return m(e.target.value)},required:!0}),(0,h.jsx)("span",{}),(0,h.jsx)("label",{children:"email"})]}),(0,h.jsxs)("div",{className:"txt_field",children:[(0,h.jsx)("input",{type:"text",name:"password",value:g,onChange:function(e){return j(e.target.value)},required:!0}),(0,h.jsx)("span",{}),(0,h.jsx)("label",{children:"password"})]}),(0,h.jsx)(d.OL,{className:"nav-link pass",exact:!0,to:"/forgetpassword",children:"forgetpassword?"}),(0,h.jsx)("input",{type:"submit",value:"Login"}),(0,h.jsxs)("div",{className:"signup_link",children:["Not a member?"," ",(0,h.jsx)(d.OL,{className:"nav-link",exact:!0,to:"/signup",children:"Signup"})]})]})]})]})}}}]);
//# sourceMappingURL=280.a9ac402a.chunk.js.map