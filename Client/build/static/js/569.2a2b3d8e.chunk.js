"use strict";(self.webpackChunkcake_shop=self.webpackChunkcake_shop||[]).push([[569],{4569:function(e,r,t){t.r(r),t.d(r,{default:function(){return v}});var a=t(3433),n=t(4165),s=t(5861),c=t(9439),i=t(2791),o=t(4765),l=t(3778),d=t(3402),p=t(1243),u=t(1087),x=t(592),m=t(4424),f=t(6355),h=t(33),g=t(184),v=function(){var e=(0,i.useState)([]),r=(0,c.Z)(e,2),t=r[0],v=r[1],j=(0,i.useState)([]),b=(0,c.Z)(j,2),Z=b[0],w=b[1],N=(0,i.useState)([]),y=(0,c.Z)(N,2),k=y[0],_=y[1],S=(0,i.useState)([]),P=(0,c.Z)(S,2),C=P[0],L=P[1],F=(0,i.useState)(0),O=(0,c.Z)(F,2),E=O[0],T=O[1],z=(0,i.useState)(1),A=(0,c.Z)(z,2),D=A[0],G=A[1],I=(0,i.useState)(!1),M=(0,c.Z)(I,2),R=M[0],U=M[1],q=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("/api/admin/product/product-count");case 3:r=e.sent,t=r.data,T(null===t||void 0===t?void 0:t.totalcount),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.ZP.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var r,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("/api/admin/product/product-list/".concat(D));case 3:r=e.sent,s=r.data,U(!1),v([].concat((0,a.Z)(t),(0,a.Z)(null===s||void 0===s?void 0:s.products))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),U(!1),d.ZP.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();1!==D&&e()}),[D]);var B=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r,t){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(0,a.Z)(Z),r?s.push(t):s=s.filter((function(e){return e!==t})),w(s);case 3:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.post("/api/admin/product/filter-product",{checked:Z,radio:k});case 3:r=e.sent,t=r.data,v(t.products),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.ZP.error("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(Z.length||k.length)&&e()}),[Z,k]);var H=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("/api/admin/category/get-category");case 3:r=e.sent,null!==(t=r.data)&&void 0!==t&&t.success&&(L(null===t||void 0===t?void 0:t.categories),d.ZP.success(t.message)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.ZP.error("cannot get categories");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){H(),q()}),[]),(0,i.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),e.next=4,p.Z.get("/api/admin/product/product-list/".concat(D));case 4:r=e.sent,t=r.data,U(!1),null!==t&&void 0!==t&&t.success?(v(null===t||void 0===t?void 0:t.products),d.ZP.success(t.message)):d.ZP.error(t.message),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),U(!1),d.ZP.error("something went wrong");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{children:[(0,g.jsx)(o.Z,{}),(0,g.jsxs)("div",{className:"product_main",children:[(0,g.jsx)("hr",{}),(0,g.jsxs)("div",{className:"d-flex row container-fluid p-3 ",children:[(0,g.jsxs)("div",{className:"col-lg-3 col-sm-12",children:[(0,g.jsx)(l.Z,{}),(0,g.jsxs)("div",{className:"categoryFilter_section mt-5 p-3 rounded-4",style:{boxShadow:"rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset"},children:[(0,g.jsxs)("h6",{className:"text-center text-uppercase  font-monospace   ",children:["filter by",(0,g.jsxs)("span",{className:"text-muted  fw-bold bg-warning ms-2 p-1 rounded-3",children:[" ","Category"]})," "]})," ",(0,g.jsx)("div",{className:"p-1 py-3  mt-2 rounded-4",style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px"},children:C.map((function(e){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"d-flex  flex-wrap ms-4   ",children:(0,g.jsx)(x.Z,{onChange:function(r){B(r.target.checked,e._id)},className:"fw-bold",children:e.name})},e._id)})}))})]}),(0,g.jsxs)("div",{className:"priceFilter_section mt-4 m-2 p-3 rounded-4",style:{boxShadow:"rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset"},children:[(0,g.jsxs)("h6",{className:"text-center text-uppercase  font-monospace  mb-2",children:["filter by"," ",(0,g.jsxs)("span",{className:"text-muted  fw-bold  bg-warning ms-1  p-1 rounded-3",children:[" ","price"]})," "]})," ",(0,g.jsxs)("div",{className:"py-3 rounded-4",style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px"},children:[(0,g.jsx)(m.ZP.Group,{onChange:function(e){return _(e.target.value)},children:null===h.T||void 0===h.T?void 0:h.T.map((function(e){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"d-flex row flex-wrap ms-4  ",children:(0,g.jsx)(m.ZP,{className:"fw-bold",value:e.array,children:e.name})},e._id)})}))})," "]})]})]}),(0,g.jsx)("div",{className:"col-lg-9 col-sm-12 ps-5  ",children:(0,g.jsxs)("div",{className:" p-1 w-90 ps-3 ",children:[(0,g.jsx)("div",{className:"d-flex  row gap-2",children:t.map((function(e){return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"card p-0",style:{height:"21rem",width:"14rem"},children:[(0,g.jsx)("img",{src:"/api/admin/product/product-photo/".concat(e._id),className:"card-img-top   cardimg rounded-2 ",alt:e.productName}),(0,g.jsxs)("div",{className:"card-body",children:[(0,g.jsx)("h6",{className:"card-title text-capitalize  text-center fw-bold",children:e.productName}),(0,g.jsx)("hr",{}),(0,g.jsxs)("h6",{className:"card-text fw-bold",children:[(0,g.jsx)(f.t9y,{className:""}),e.price,".00 RS/-"]}),(0,g.jsx)(u.rU,{className:"btn btn-primary fs-4 p-0 px-3",to:"/profile/admin/update-product/".concat(e.slug),children:"EDIT"},e._id)]})]})})}))}),(0,g.jsxs)("div",{className:"m-2 p-3",children:[(0,g.jsxs)("h1",{children:[" total products :",E]}),t&&t.length<E&&(0,g.jsx)("button",{className:"btn btn-success py-3 px-5  h4",onClick:function(e){e.preventDefault(),G(D+1)},children:R?"loading":"Load More"})]})]})})]})]})]})})}},3778:function(e,r,t){t(2791);var a=t(1087),n=t(184);r.Z=function(){return(0,n.jsx)("div",{className:"text-center  ",children:(0,n.jsxs)("div",{className:"list-group text-capitalize  ",children:[(0,n.jsx)(a.OL,{to:"/profile/admin",className:"text-reset text-decoration-none",children:(0,n.jsx)("h4",{className:"py-2 bg-warning ",children:"Admin Panel"})}),(0,n.jsx)(a.OL,{to:"/profile/admin/create-category",className:"list-group-item list-group-item-action  p-2 fw-bolder ",children:"Create category"}),(0,n.jsx)(a.OL,{to:"/profile/admin/create-product",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"Create product"}),(0,n.jsx)(a.OL,{to:"/profile/admin/products",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"products"}),(0,n.jsx)(a.OL,{to:"/profile/admin/allusers",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"users"}),(0,n.jsx)(a.OL,{to:"/profile/admin/allorders",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"orders"}),(0,n.jsx)(a.OL,{to:"/profile/admin/feedback",className:"list-group-item list-group-item-action p-2 fw-bolder ",children:"Feedbacks"})]})})}},33:function(e,r,t){t.d(r,{T:function(){return a}});var a=[{_id:6,name:"All",array:[0,1e4]},{_id:0,name:"1- 50 ",array:[1,50]},{_id:1,name:"50 - 100 ",array:[50,100]},{_id:2,name:"100 - 250 ",array:[100,250]},{_id:3,name:"250 - 400 ",array:[250,400]},{_id:4,name:"400 - 500 ",array:[400,500]},{_id:5,name:"500 - 1000 ",array:[500,1e3]},{_id:6,name:"1000+ ",array:[1e3,1e4]}]}}]);
//# sourceMappingURL=569.2a2b3d8e.chunk.js.map