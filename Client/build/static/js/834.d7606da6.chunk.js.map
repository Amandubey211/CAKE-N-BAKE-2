{"version":3,"file":"static/js/834.d7606da6.chunk.js","mappings":"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","sources":["Pages/Admin/AdminOrders.js"],"sourcesContent":["import React from \"react\";\r\nimport AdminMenu from \"../../components/AdminMenu/AdminMenu\";\r\nimport Nav from \"../../components/Navbar/Nav\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../../Context/auth\";\r\nimport toast from \"react-hot-toast\";\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\nimport { FaRupeeSign } from \"react-icons/fa\";\r\nimport { Select } from \"antd\";\r\nconst { Option } = Select;\r\n\r\nconst AdminOrders = () => {\r\n  const [orders, SetOrders] = useState([]);\r\n  const [auth] = useAuth();\r\n  const [status, SetStatus] = useState([\r\n    \"Not process\",\r\n    \"processing\",\r\n    \"Shipped\",\r\n    \"deliver\",\r\n    \"cancel\",\r\n  ]);\r\n  // const [changeStatus, SetChangeStatus] = useState(\"\");\r\n\r\n  const getOrders = async () => {\r\n    try {\r\n      const { data } = await axios.get(\"/api/auth/all-orders\");\r\n      SetOrders(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (auth?.token) getOrders();\r\n  }, [auth?.token]);\r\n  const HandleChange = async (orderId, value) => {\r\n    try {\r\n      const { data } = await axios.put(`/api/auth/orders-status/${orderId}`, {\r\n        status: value,\r\n      });\r\n      if(data){\r\n        \r\n      getOrders();\r\n\r\n      toast.success(\"status updated successfully\");\r\n\r\n      }else{\r\n        toast.error(\"status not updated\")\r\n      }\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n      toast.error(\"something went wrong\");\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div>\r\n        <Nav />\r\n\r\n        <div className=\"admin_orders_main\">\r\n          <hr />\r\n          <div className=\"d-flex row container-fluid p-3 \">\r\n            <div className=\"col-md-3\">\r\n              <AdminMenu />\r\n            </div>\r\n            <div className=\"col-md-9 ps-5  \">\r\n              <div className=\" p-3 w-75 ps-5 \">\r\n                <h1 className=\"text-center text-uppercase font-monospace\">\r\n                  all orders\r\n                </h1>\r\n                {orders\r\n                  ?.map((orders, i) => {\r\n                    return (\r\n                      <>\r\n                        <div>\r\n                          <table className=\"table\">\r\n                            <thead>\r\n                              <tr>\r\n                                <th scope=\"col\">SR NO</th>\r\n                                <th scope=\"col\">status</th>\r\n                                <th scope=\"col\">buyer ID</th>\r\n                                <th scope=\"col\">orders</th>\r\n                                <th scope=\"col\">quantity</th>\r\n                                <th scope=\"col\">payment</th>\r\n                                <th scope=\"col\">total</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td>{i + 1}</td>\r\n                                <td>\r\n                                  <Select\r\n                                    bordered={false}\r\n                                    onChange={(value) =>\r\n                                      HandleChange(orders._id, value)\r\n                                    }\r\n                                    defaultValue={orders?.status}\r\n                                  >\r\n                                    {status.map((s, i) => (\r\n                                      <Option key={i} value={s}>\r\n                                        {s}\r\n                                      </Option>\r\n                                    ))}\r\n                                  </Select>\r\n                                </td>\r\n                                <td>{orders?.buyer?._id}</td>\r\n\r\n                                <td>{moment(orders?.createAt).fromNow()}</td>\r\n                                <td>\r\n                                  {orders?.payment.success ? (\r\n                                    <span className=\"bg-success\">success</span>\r\n                                  ) : (\r\n                                    <span className=\"bg-danger \">failed</span>\r\n                                  )}\r\n                                </td>\r\n                                <td>{orders?.products?.length}</td>\r\n                                <td>\r\n                                  {\" \"}\r\n                                  <FaRupeeSign className=\"h6 mt-1\" />\r\n                                  {orders?.amount}/-\r\n                                </td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </table>\r\n                          <div className=\" container\">\r\n                            {orders?.products?.map((product, i) => (\r\n                              <>\r\n                                <div\r\n                                  className=\"row flex-row   mb-3 rounded-4\"\r\n                                  style={{\r\n                                    boxShadow:\r\n                                      \"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px\",\r\n                                  }}\r\n                                >\r\n                                  <div className=\"col-md-3 p-3\">\r\n                                    <img\r\n                                      src={`/api/admin/product/product-photo/${product._id}`}\r\n                                      className=\"  rounded-2\"\r\n                                      alt={product.productName}\r\n                                      height={70}\r\n                                      width={70}\r\n                                    />\r\n                                  </div>\r\n                                  <div className=\"col-md-8 p-3\">\r\n                                    <h3 className=\"text-capitalize fw-bold font-monospace\">\r\n                                      {product.productName}\r\n                                    </h3>\r\n                                    <hr />\r\n                                    {/* <p>{product.description}</p> */}\r\n                                    <div className=\"d-flex flex-column flex-wrap \">\r\n                                      <h4 className=\"fw-bold\">\r\n                                        {\" \"}\r\n                                        <FaRupeeSign className=\"h5 mt-1\" />\r\n                                        {product.price}/-\r\n                                      </h4>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })\r\n                  .reverse()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <br />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminOrders;\r\n"],"names":["Option","Select","_useState","useState","_useState2","_slicedToArray","orders","SetOrders","_useAuth","useAuth","auth","_useState3","_useState4","status","getOrders","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","prev","next","axios","sent","t0","console","log","stop","apply","arguments","useEffect","token","HandleChange","_ref2","_callee2","orderId","value","_yield$axios$put","_context2","concat","toast","_x","_x2","_jsx","_Fragment","children","_jsxs","Nav","className","AdminMenu","map","i","_orders$buyer","_orders$products","_orders$products2","scope","bordered","onChange","_id","defaultValue","s","buyer","moment","createAt","fromNow","payment","success","products","length","FaRupeeSign","amount","product","style","boxShadow","src","alt","productName","height","width","price","reverse"],"sourceRoot":""}