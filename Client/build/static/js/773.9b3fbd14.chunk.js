"use strict";(self.webpackChunkcake_shop=self.webpackChunkcake_shop||[]).push([[773],{773:function(e,t,n){n.r(t);var r=n(4165),a=n(5861),s=n(9439),c=n(2791),o=n(3778),i=n(2835),u=n(3388),l=n(3402),p=n(1243),d=n(7689),m=n(184),h=u.Z.Option;t.default=function(){var e=(0,c.useState)([]),t=(0,s.Z)(e,2),n=t[0],v=t[1],x=(0,c.useState)(""),f=(0,s.Z)(x,2),g=f[0],j=f[1],Z=(0,c.useState)(""),b=(0,s.Z)(Z,2),N=b[0],y=b[1],w=(0,c.useState)(""),k=(0,s.Z)(w,2),P=k[0],E=k[1],C=(0,c.useState)(""),S=(0,s.Z)(C,2),D=S[0],_=S[1],O=(0,c.useState)(""),T=(0,s.Z)(O,2),U=T[0],L=T[1],R=(0,c.useState)(""),q=(0,s.Z)(R,2),A=q[0],z=q[1],Y=(0,c.useState)(""),F=(0,s.Z)(Y,2),H=F[0],Q=F[1],W=(0,c.useState)(""),B=(0,s.Z)(W,2),G=B[0],I=B[1],J=(0,d.UO)(),K=(0,d.s0)(),M=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("/api/admin/product/single-product/".concat(J.slug));case 3:t=e.sent,n=t.data,y(n.product.productName),E(n.product.description),I(n.product._id),_(n.product.category._id),L(n.product.quantity),z(n.product.price),Q(n.product.shipping),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),l.ZP.error("something went wrong");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){M()}),[]);var V=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,(n=new FormData).append("productName",N),n.append("description",P),n.append("category",D),n.append("quantity",U),n.append("price",A),n.append("shipping",H),g&&n.append("photo",g),e.next=12,p.Z.put("/api/admin/product/update-product/".concat(G),n);case 12:a=e.sent,null!==(s=a.data)&&void 0!==s&&s.success?(l.ZP.success("product updated successfully"),K("/profile/admin/products")):l.ZP.error("product cannot update"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),l.ZP.error("something went wrong");case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"YES DELETE"!==window.prompt("are you sure to delete the product type 'YES DELETE' ")){e.next=10;break}return e.next=5,p.Z.delete("/api/admin/product/deleteproduct-photo/".concat(G));case 5:n=e.sent,null!==(a=n.data)&&void 0!==a&&a.success?(l.ZP.success(a.message),K("/profile/admin/products")):l.ZP.error(a.message),e.next=11;break;case 10:return e.abrupt("return");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),l.ZP.error("something went wrong");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.get("/api/admin/category/get-category");case 3:t=e.sent,null!==(n=t.data)&&void 0!==n&&n.success&&(v(null===n||void 0===n?void 0:n.categories),l.ZP.success("categories accquired successfully")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),l.ZP.error("cannot get categories");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){$()}),[]),(0,m.jsxs)("div",{children:[(0,m.jsx)(i.Z,{}),(0,m.jsxs)("div",{className:"createProduct_main",children:[(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"d-flex row container-fluid p-3 ",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)(o.Z,{})}),(0,m.jsx)("div",{className:"col-md-9 ps-5  ",children:(0,m.jsxs)("div",{className:" p-3 w-75 ps-5 ",children:[(0,m.jsx)("h1",{className:"mb-3 font-monospace text-uppercase fw-bold",children:"update products"}),(0,m.jsxs)("div",{className:"m-1 w-75",children:[(0,m.jsx)("h4",{className:"fw-bolder ps-1",children:"category:"}),(0,m.jsx)(u.Z,{bordered:!1,size:"large",showSearch:!0,value:D||"choose a category darling!",className:"form-select mb-3",onChange:function(e){_(e)},children:null===n||void 0===n?void 0:n.map((function(e){return(0,m.jsx)(h,{value:e._id,children:e.name},e._id)}))}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsxs)("label",{className:"btn btn-outline-primary  py-3 col-md-12",children:[g?g.name:"UPLOAD NEW PHOTO",(0,m.jsx)("input",{type:"file",name:"photo",accept:"image/*",className:"form-control  ",onChange:function(e){return j(e.target.files[0])},hidden:!0})]})}),(0,m.jsx)("div",{className:"mb-3",children:g?(0,m.jsx)("div",{className:"text-center",children:(0,m.jsx)("img",{src:URL.createObjectURL(g),alt:" product_photo",height:"200px",className:"img img-responsive rounded-3"})}):(0,m.jsx)("div",{className:"text-center",children:(0,m.jsx)("img",{src:"/api/admin/product/product-photo/".concat(G),alt:" product_photo",height:"200px",className:"img img-responsive rounded-3"})})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"text",value:N,className:"form-control py-3",placeholder:" Product's Name",onChange:function(e){y(e.target.value)}})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"text",value:P,className:"form-control py-3",placeholder:"About the product",onChange:function(e){E(e.target.value)}})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"number",value:U,className:"form-control py-3",placeholder:"No  of Quantity",onChange:function(e){L(e.target.value)}})}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"number",value:A,className:"form-control py-3",placeholder:"Price in rupees",onChange:function(e){z(e.target.value)}})}),(0,m.jsxs)(u.Z,{bordered:!1,placeholder:"select shipping",size:"large",showSearch:!0,value:H?"yes":"no",className:"form-select mb-3 ",onChange:function(e){Q(e)},children:[(0,m.jsx)(h,{value:"0",children:" no"}),(0,m.jsx)(h,{value:"1",children:"yes"})]}),(0,m.jsxs)("div",{className:"d-flex gap-5 colmun container-fluid ",children:[(0,m.jsx)("div",{className:"mb-3 ms-5",children:(0,m.jsx)("button",{type:"submit",className:"btn btn-primary px-4 py-3",onClick:V,children:"UPDATE PRODUCT"})}),(0,m.jsx)("div",{className:"mb-3 ms-5",children:(0,m.jsx)("button",{className:"btn btn-danger px-4 py-3",onClick:X,children:"DELETE PRODUCT"})})]})]})]})})]})]})]})}}}]);
//# sourceMappingURL=773.9b3fbd14.chunk.js.map