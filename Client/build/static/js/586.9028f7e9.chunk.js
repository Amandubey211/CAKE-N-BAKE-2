"use strict";(self.webpackChunkcake_shop=self.webpackChunkcake_shop||[]).push([[586],{4737:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var n=r(3433),a=r(4165),c=r(5861),s=r(9439),i=r(2791),o=r(4765),l=r(1243),d=r(3402),u=r(592),p=r(4424),m=r(33),x=r(7689),f=r(132),h=r(6355),v=r(1413),g=r(1167),b=r(184),j=function(){var e=(0,g.R)(),t=(0,s.Z)(e,2),r=t[0],n=t[1],i=(0,x.s0)(),o=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,l.Z.get("/api/admin/product/search/".concat(r.keyword));case 4:c=e.sent,s=c.data,n((0,v.Z)((0,v.Z)({},r),{},{result:s})),i("/search"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),d.Am.error("give some keyword!");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,b.jsx)("div",{children:(0,b.jsxs)("form",{className:"d-flex  ",role:"search",onSubmit:o,children:[(0,b.jsx)("input",{className:" serchinput form-control me-1 pe-5 1  ",type:"search",placeholder:"product name..","aria-label":"Search",value:r.keyword,onChange:function(e){return n((0,v.Z)((0,v.Z)({},r),{},{keyword:e.target.value}))}}),(0,b.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})})},w=function(){var e=(0,i.useState)([]),t=(0,s.Z)(e,2),r=t[0],v=t[1],g=(0,i.useState)([]),w=(0,s.Z)(g,2),Z=w[0],y=w[1],N=(0,i.useState)([]),k=(0,s.Z)(N,2),S=k[0],_=k[1],C=(0,i.useState)([]),A=(0,s.Z)(C,2),E=A[0],F=A[1],T=(0,i.useState)(0),z=(0,s.Z)(T,2),D=z[0],R=z[1],I=(0,i.useState)(1),L=(0,s.Z)(I,2),P=L[0],G=L[1],J=(0,i.useState)(!1),M=(0,s.Z)(J,2),O=M[0],q=M[1],B=(0,x.s0)(),H=(0,f.j)(),K=(0,s.Z)(H,2),Q=K[0],U=K[1],V=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/api/admin/product/product-count");case 3:t=e.sent,r=t.data,R(null===r||void 0===r?void 0:r.totalcount),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.Am.error("cannot get toatl");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/api/admin/product/product-list/".concat(P));case 3:t=e.sent,c=t.data,q(!1),v([].concat((0,n.Z)(r),(0,n.Z)(null===c||void 0===c?void 0:c.products))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),q(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();1!==P&&e()}),[P]);var W=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t,r){var c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=(0,n.Z)(S),t?c.push(r):c=c.filter((function(e){return e!==r})),_(c);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.post("/api/admin/product/filter-product",{checked:S,radio:E});case 3:t=e.sent,r=t.data,v(null===r||void 0===r?void 0:r.products),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.Am.error("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(S.length||E.length)&&e()}),[S,E]);var X=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/api/admin/category/get-category");case 3:t=e.sent,null!==(r=t.data)&&void 0!==r&&r.success&&y(null===r||void 0===r?void 0:r.categories),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.Am.error("cannot get categories");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){X(),V()}),[]),(0,i.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),e.next=4,l.Z.get("/api/admin/product/product-list/".concat(P));case 4:t=e.sent,r=t.data,q(!1),null!==r&&void 0!==r&&r.success?(v(null===r||void 0===r?void 0:r.products),d.Am.success(r.message)):d.Am.error(r.message),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),q(!1),d.Am.error("something went wrong");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Z,{}),(0,b.jsx)("div",{className:"products_main  ",children:(0,b.jsxs)("div",{className:"d-flex  container-fluid",children:[(0,b.jsxs)("div",{className:"col-md-2 col-sm-12 mt-3 ",children:[" ",(0,b.jsxs)("div",{className:"categoryFilter_section",children:[(0,b.jsxs)("h6",{className:"text-center text-uppercase  font-monospace  fw-bold ",children:["filter by",(0,b.jsxs)("span",{className:"text-muted  fw-bold bg-warning ms-2 p-1 rounded-3",children:[" ","Category"]})," "]})," ",(0,b.jsx)("div",{className:"p-1 py-3  mt-2 rounded-3",style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px"},children:Z.map((function(e){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"d-flex  flex-wrap ms-4   ",children:(0,b.jsx)(u.Z,{onChange:function(t){W(t.target.checked,e._id)},className:"fw-bold",children:e.name})},e._id)})}))})]}),(0,b.jsxs)("div",{className:"priceFilter_section mt-4 m-2",children:[(0,b.jsxs)("h6",{className:"text-center text-uppercase  font-monospace  fw-bold mb-2",children:["filter by"," ",(0,b.jsxs)("span",{className:"text-muted  fw-bold  bg-warning ms-1  p-1 rounded-3",children:[" ","price"]})," "]})," ",(0,b.jsxs)("div",{className:"py-3 rounded-3",style:{boxShadow:"rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px"},children:[(0,b.jsx)(p.ZP.Group,{onChange:function(e){return F(e.target.value)},children:null===m.T||void 0===m.T?void 0:m.T.map((function(e){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"d-flex row flex-wrap ms-4  ",children:(0,b.jsx)(p.ZP,{className:"fw-bold",value:e.array,children:e.name})},e._id)})}))})," "]})]}),(0,b.jsx)("div",{className:" d-flex flex-column mt-3",children:(0,b.jsx)("button",{className:"btn btn-success py-3 fw-bold mx-3  ",onClick:function(){window.location.reload()},children:"RESET FILTERS"})})]}),(0,b.jsxs)("div",{className:"col-md-10  col-sm-12  ps-4 ",children:["/allproducts"==window.location.pathname&&(0,b.jsxs)("div",{className:"px-5",children:[(0,b.jsxs)("div",{className:" pe-5  ",children:[" ",(0,b.jsx)(j,{})]})," "]}),(0,b.jsx)("div",{className:"d-flex flex-wrap ",children:null===r||void 0===r?void 0:r.map((function(e){return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"card m-3 ",style:{height:"20rem",width:"15rem"},children:[(0,b.jsx)("img",{src:"/api/admin/product/product-photo/".concat(e._id),className:"card-img-top cardimg",alt:e.productName}),(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsx)("h5",{className:"card-title text-capitalize  text-center fw-bold",children:e.productName}),(0,b.jsx)("hr",{}),(0,b.jsxs)("p",{className:"card-text text-capitalize",children:[" ",e.description.substring(0,30)]}),(0,b.jsxs)("h5",{className:"card-text fw-bold",children:[(0,b.jsx)(h.t9y,{className:"h6 mt-1"})," ",e.price,".00/-"]}),(0,b.jsxs)("div",{className:"d-flex  flex-row gap-2 ",children:[(0,b.jsx)("button",{onClick:function(){return B("/productdetail/".concat(e.slug))},className:"btn btn-danger text-uppercase ",style:{fontSize:"10px"},children:"Details"}),(0,b.jsx)("button",{onClick:function(){U([].concat((0,n.Z)(Q),[e])),localStorage.setItem("cart",JSON.stringify([].concat((0,n.Z)(Q),[e]))),d.Am.success(" ".concat(e.productName,"  added to the cart"))},className:"btn btn-secondary text-uppercase   ",children:"Add To Cart"})]})]})]})})}))}),(0,b.jsxs)("div",{className:" py-2 px-5 d-flex flex-column justify-content-center",children:[(0,b.jsxs)("p",{className:"text-center text-muted fw-bold text-uppercase",children:[" ","total products : ",(0,b.jsx)("span",{className:"h4",children:D})]}),r&&r.length<D&&(0,b.jsx)("button",{className:"btn btn-success py-3 fw-bold   h1",onClick:function(e){e.preventDefault(),G(P+1)},children:O?"loading":"Load More"})]})]})]})})," "]})}},33:function(e,t,r){r.d(t,{T:function(){return n}});var n=[{_id:6,name:"All",array:[0,1e4]},{_id:0,name:"1- 50 ",array:[1,50]},{_id:1,name:"50 - 100 ",array:[50,100]},{_id:2,name:"100 - 250 ",array:[100,250]},{_id:3,name:"250 - 400 ",array:[250,400]},{_id:4,name:"400 - 500 ",array:[400,500]},{_id:5,name:"500 - 1000 ",array:[500,1e3]},{_id:6,name:"1000+ ",array:[1e3,1e4]}]}}]);
//# sourceMappingURL=586.9028f7e9.chunk.js.map